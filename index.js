//This code is obfuscated for protection
const _0x5cb21d = _0x1b8f;
function _0x1b8f(_0x383e55, _0x2fbba0) {
    const _0xc264be = _0xc264();
    _0x1b8f = function (_0x1b8f59, _0x3d6bdb) {
        _0x1b8f59 = _0x1b8f59 - 0x195;
        let _0x19d03b = _0xc264be[_0x1b8f59];
        return _0x19d03b;
    };
    return _0x1b8f(_0x383e55, _0x2fbba0);
}
(function (_0x24eec1, _0x598336) {
    const _0x1eb4b = _0x1b8f;
    const _0x2a428b = _0x24eec1();
    while (!![]) {
        try {
            const _0x64f9c2 = parseInt(_0x1eb4b(0x1ab)) / 0x1 * (parseInt(_0x1eb4b(0x1aa)) / 0x2) + -parseInt(_0x1eb4b(0x197)) / 0x3 + -parseInt(_0x1eb4b(0x19d)) / 0x4 + parseInt(_0x1eb4b(0x196)) / 0x5 + parseInt(_0x1eb4b(0x1a7)) / 0x6 * (parseInt(_0x1eb4b(0x1c2)) / 0x7) + -parseInt(_0x1eb4b(0x1c0)) / 0x8 * (parseInt(_0x1eb4b(0x1a8)) / 0x9) + parseInt(_0x1eb4b(0x1be)) / 0xa * (parseInt(_0x1eb4b(0x1b5)) / 0xb);
            if (_0x64f9c2 === _0x598336) {
                break;
            } else {
                _0x2a428b['push'](_0x2a428b['shift']());
            }
        } catch (_0x351c32) {
            _0x2a428b['push'](_0x2a428b['shift']());
        }
    }
}(_0xc264, 0xe4cc6));
const fetch = (..._0x32b3df) => import(_0x5cb21d(0x1a2))[_0x5cb21d(0x1b9)](({default: _0x53cd7f}) => _0x53cd7f(..._0x32b3df));
const readline = require(_0x5cb21d(0x19e));
const express = require('express');
const router = express[_0x5cb21d(0x1b8)]();
const fs = require('fs');
const app = express();
router['get']('/', function (_0x5dfbfb, _0x4560a2) {
    const _0x1f309e = _0x5cb21d;
    _0x4560a2['send'](_0x1f309e(0x1bd) + (_0x5dfbfb[_0x1f309e(0x1c5)] + _0x1f309e(0x1bf) + _0x5dfbfb[_0x1f309e(0x1b7)](_0x1f309e(0x1c7))) + _0x1f309e(0x198));
});
app[_0x5cb21d(0x1c4)]('/', router);
function _0xc264() {
    const _0x2de77f = [
        '147954Fwktqk',
        'send',
        'split',
        'https://raw.githubusercontent.com/benmoose39/YouTube_to_m3u/main/assets/moose_na.m3u',
        'params',
        '.m3u8',
        '/get/:providedName',
        'listen',
        'utf8',
        '<html\x20style=\x27font-family:system-ui\x27>The\x20channel\x20that\x20you\x20searched\x20for\x20(',
        '24170025IZMnKe',
        'replace',
        'get',
        'Router',
        'then',
        'USTVGO\x20Scraper\x20is\x20at\x20localhost:3000\x20(port\x203000)',
        'trim',
        'Copyright\x202022,\x20Brian\x20Walczak,\x20All\x20rights\x20reserved.',
        '<html\x20style=\x27font-family:system-ui\x27><center>To\x20generate\x20an\x20M3U\x20from\x20USTVGO.TV,\x20search\x20for\x20the\x20channel\x20by\x20visiting\x20/get/\x20(It\x20must\x20be\x20the\x20channels\x20code)<br><br>Example:\x20',
        '10UiWcEV',
        '://',
        '1912zNPNzW',
        'providedName',
        '260771JHIywK',
        '<br><br><br>File\x20Contents:<br>',
        'use',
        'protocol',
        'text',
        'host',
        '</html>',
        '\x22,\x20',
        'channels.txt',
        '<br>',
        '3480685MYRslx',
        '3417882clQyxb',
        '/get/FoodNetwork<br><br><small>Copyright\x202022,\x20Brian\x20Walczak,\x20All\x20rights\x20reserved.</small></center></html>',
        'status',
        'length',
        'log',
        '\x20|\x20',
        '5020588cSZZkL',
        'readline',
        ')\x20was\x20not\x20found\x20on\x20USTVGO\x27s\x20directory<br><br>Here\x20is\x20the\x20list\x20of\x20channels\x20to\x20search\x20for:<br>',
        'undefined',
        '<html\x20style=\x27font-family:system-ui\x27>File\x20was\x20saved\x20as\x20',
        'node-fetch',
        'includes',
        '.m3u',
        'readFile',
        'redirect',
        '222FlRNSl',
        '57690YqGyxt',
        '#EXTINF:-1\x20tvg-id=\x22',
        '8wySTTf'
    ];
    _0xc264 = function () {
        return _0x2de77f;
    };
    return _0xc264();
}
router[_0x5cb21d(0x1b7)](_0x5cb21d(0x1b1), function (_0x1ad62b, _0x14fbde) {
    const _0x45d684 = _0x5cb21d;
    if (_0x1ad62b[_0x45d684(0x1af)][_0x45d684(0x1c1)] != null) {
        var _0x2d5b2b;
        fs[_0x45d684(0x1a5)](_0x45d684(0x1ca), _0x45d684(0x1b3), function (_0x126e84, _0x57d225) {
            const _0x5ef87a = _0x45d684;
            var _0x3123a0 = _0x57d225['split']('\x0a');
            for (var _0x345cef = 0x0; _0x345cef < _0x3123a0[_0x5ef87a(0x19a)]; _0x345cef++) {
                if (_0x3123a0[_0x345cef]['split'](_0x5ef87a(0x19c))[0x1] == _0x1ad62b[_0x5ef87a(0x1af)][_0x5ef87a(0x1c1)]) {
                    _0x2d5b2b = _0x3123a0[_0x345cef];
                    name = _0x2d5b2b['split'](_0x5ef87a(0x19c))[0x0];
                    code = _0x2d5b2b['split']('\x20|\x20')[0x1];
                    logo = _0x2d5b2b[_0x5ef87a(0x1ad)](_0x5ef87a(0x19c))[0x2];
                    id = _0x2d5b2b['split'](_0x5ef87a(0x19c))[0x3];
                    fetch('https://ustvgo.tv/player.php?stream=' + code, {
                        'method': 'GET',
                        'headers': { 'Referer': 'https://ustvgo.tv/' }
                    })['then'](_0x5cc673 => _0x5cc673[_0x5ef87a(0x1c6)]())['then'](_0x47ea04 => {
                        const _0x5be75a = _0x5ef87a;
                        if (_0x47ea04[_0x5be75a(0x1a3)](_0x5be75a(0x1b0)) == !![]) {
                            link = _0x47ea04[_0x5be75a(0x1ad)]('hls_src=\x27')[0x1][_0x5be75a(0x1ad)]('\x27')[0x0];
                        } else {
                            link = _0x5be75a(0x1ae);
                        }
                        m3uTXT = _0x5be75a(0x1a9) + code + '\x22\x20group-title=\x22ustvgo\x22\x20tvg-logo=\x22' + logo + _0x5be75a(0x1c9) + name + '\x0a' + link;
                        var _0x555a02 = name[_0x5be75a(0x1bb)]() + _0x5be75a(0x1a4);
                        fs['writeFile'](_0x555a02, m3uTXT, _0x9badf6 => {
                            const _0x2cc058 = _0x5be75a;
                            if (_0x9badf6)
                                throw _0x9badf6;
                            _0x14fbde[_0x2cc058(0x1ac)](_0x2cc058(0x1a1) + _0x555a02 + _0x2cc058(0x1c3) + m3uTXT + _0x2cc058(0x1c8));
                        });
                    });
                }
            }
            if (typeof _0x2d5b2b === _0x5ef87a(0x1a0)) {
                var _0x52ed93;
                for (var _0x345cef = 0x0; _0x345cef < _0x3123a0['length']; _0x345cef++) {
                    _0x52ed93 = _0x52ed93 + (_0x3123a0[_0x345cef][_0x5ef87a(0x1ad)]('\x20|\x20')[0x1] + '\x20(' + _0x3123a0[_0x345cef][_0x5ef87a(0x1ad)](_0x5ef87a(0x19c))[0x0] + ')') + _0x5ef87a(0x195);
                }
                _0x14fbde[_0x5ef87a(0x1ac)](_0x5ef87a(0x1b4) + _0x1ad62b[_0x5ef87a(0x1af)][_0x5ef87a(0x1c1)] + _0x5ef87a(0x19f) + _0x52ed93[_0x5ef87a(0x1b6)]('undefined', '') + _0x5ef87a(0x1c8));
            }
        });
    }
});
app[_0x5cb21d(0x1c4)](_0x5cb21d(0x1b1), router);
app[_0x5cb21d(0x1c4)](function (_0x24829e, _0x4e0b01, _0x45ad37) {
    const _0x400797 = _0x5cb21d;
    _0x4e0b01[_0x400797(0x199)](0x194);
    _0x4e0b01[_0x400797(0x1a6)]('/');
});
let server = app[_0x5cb21d(0x1b2)](0xbb8, function () {
    const _0x2f0c58 = _0x5cb21d;
    console['log'](_0x2f0c58(0x1ba));
    console[_0x2f0c58(0x19b)](_0x2f0c58(0x1bc));
});

//Copyright 2022, Brian Walczak, All rights reserved.
